!function($){$.fn.viewportChecker=function(t){var o={classToAdd:"visible",classToRemove:"invisible",offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(t,o){},scrollHorizontal:!1};$.extend(o,t);var e=this,a={height:$(window).height(),width:$(window).width()},l=-1!==navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";return this.checkElements=function(){var t,s;o.scrollHorizontal?(t=$(l).scrollLeft(),s=t+a.width):(t=$(l).scrollTop(),s=t+a.height),e.each(function(){var e=$(this),a={},l={};if(e.data("vp-add-class")&&(l.classToAdd=e.data("vp-add-class")),e.data("vp-remove-class")&&(l.classToRemove=e.data("vp-remove-class")),e.data("vp-offset")&&(l.offset=e.data("vp-offset")),e.data("vp-repeat")&&(l.repeat=e.data("vp-repeat")),e.data("vp-scrollHorizontal")&&(l.scrollHorizontal=e.data("vp-scrollHorizontal")),e.data("vp-invertBottomOffset")&&(l.scrollHorizontal=e.data("vp-invertBottomOffset")),$.extend(a,o),$.extend(a,l),!e.hasClass(a.classToAdd)||a.repeat){var n=a.scrollHorizontal?Math.round(e.offset().left)+a.offset:Math.round(e.offset().top)+a.offset,i=a.scrollHorizontal?n+e.width():n+e.height();a.invertBottomOffset&&(i-=2*a.offset),s>n&&i>t?(e.removeClass(a.classToRemove),e.addClass(a.classToAdd),a.callbackFunction(e,"add")):e.hasClass(a.classToAdd)&&a.repeat&&(e.removeClass(a.classToAdd),a.callbackFunction(e,"remove"))}})},$(window).bind("load scroll touchmove MSPointerMove",this.checkElements),$(window).resize(function(t){a={height:$(window).height(),width:$(window).width()},e.checkElements()}),this.checkElements(),this},$.elevator={init:function(){$("body").append('<div id="next-nav">'),$.elevator.checkPoints(),$.elevator.checkScroll(),$.elevator.nextClick()},checkPoints:function(){var t=$(".scroll-point").length;$(".scroll-point").each(function(o){return o===t-1?($(this).addClass("last-point"),!1):void 0})},checkScroll:function(){$(document).on("scroll",function(){var t=$(".last-point").offset().top,o=$(document).scrollTop()+$("#header-panel").outerHeight(),e=$(window).scrollTop()+$(window).height(),a=$("#main-footer").offset().top;o>=t||e>=a?$("#next-nav").addClass("to-top"):$("#next-nav").removeClass("to-top")})},nextClick:function(){var t=$(".scroll-point"),o=$(t[0]);$("#next-nav").on("click",function(e){if($(this).hasClass("to-top"))e.preventDefault(),$("body,html").animate({scrollTop:0}),o=$(t[0]);else{e.preventDefault();var a=$("#header-panel").outerHeight();$(".scroll-point").each(function(e){return $(this).viewportChecker({classToAdd:"current",repeat:!0,scrollHorizontal:!1,offset:a}),$(this).hasClass("current")?(o=$(t[e+1]),!1):void 0}),$("body,html").animate({scrollTop:o.offset().top-a+1})}})}},$(document).ready(function(){$(".scroll-point").length&&$.elevator.init()})}(jQuery);